<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Home_logged</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;400;700;900&family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box
    }

    :root {
      --primary-orange: #F26B38;
      --orange-light: #FF8C5A;
      --orange-glow: rgba(242, 107, 56, .25);
      --deep-black: #0A0A0A;
      --charcoal: #1A1A1A;
      --dark-grey: #2D2D2D;
      --mid-grey: #6E6E6E;
      --light-grey: #DADADA;
      --ultra-light: #F2F2F2;
      --pure-white: #FFFFFF;
      --card-bg: #FFFFFF;
      --page-bg: #F8F8F8;
      --border-color: #E5E5E5;
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, .04);
      --shadow-md: 0 4px 16px rgba(0, 0, 0, .08);
      --shadow-lg: 0 8px 32px rgba(0, 0, 0, .12);
      --shadow-xl: 0 16px 48px rgba(0, 0, 0, .16);
      --transition-smooth: all .28s cubic-bezier(.4, 0, .2, 1);
      --transition-bounce: all .4s cubic-bezier(.34, 1.56, .64, 1);
      --glass-bg: rgba(255, 255, 255, 0.8);
      --glass-border: rgba(0, 0, 0, 0.06);
    }

    /* ÊöóËâ≤‰∏ªÈ¢òÂèòÈáè */
    [data-theme="dark"] {
      --deep-black: #FAFAFA;
      --charcoal: #E8E8E8;
      --dark-grey: #CCCCCC;
      --mid-grey: #999999;
      --light-grey: #404040;
      --ultra-light: #2A2A2A;
      --pure-white: #FAFAFA;
      --card-bg: #1E1E1E;
      --page-bg: #121212;
      --border-color: #333333;
      --shadow-sm: 0 2px 8px rgba(0, 0, 0, .4);
      --shadow-md: 0 4px 16px rgba(0, 0, 0, .5);
      --shadow-lg: 0 8px 32px rgba(0, 0, 0, .6);
      --shadow-xl: 0 16px 48px rgba(0, 0, 0, .7);
      --glass-bg: rgba(26, 26, 26, 0.8);
      --glass-border: rgba(255, 255, 255, 0.06);
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--page-bg);
      color: var(--deep-black);
      line-height: 1.7;
      overflow-x: hidden;
      transition: background .5s ease, color .5s ease;
    }

    h1,
    h2,
    h3,
    h4 {
      font-family: 'Merriweather', serif
    }

    /* ========== Êñ∞ÂØºËà™Ê†èÔºà‰∏é‰∏äÈ°µ‰∏ÄËá¥Ôºâ ========== */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 1000;
      background: var(--glass-bg);
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(30px);
      border-bottom: 1px solid var(--glass-border);
      transition: all .4s cubic-bezier(.4, 0, .2, 1);
    }

    .navbar.scrolled {
      box-shadow: var(--shadow-md);
    }

    .nav-container {
      max-width: 1920px;
      margin: 0 auto;
      padding: 1rem 3rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 24px;
    }

    .logo-link {
      display: flex;
      align-items: center;
      text-decoration: none;
      transition: transform .3s ease
    }

    .logo-link:hover {
      transform: scale(1.05)
    }

    .logo-img {
      height: 90px;
      width: auto;
      object-fit: contain
    }

    .nav-menu {
      display: flex;
      gap: 3rem;
      list-style: none
    }

    .nav-link {
      position: relative;
      color: var(--mid-grey);
      text-decoration: none;
      font-weight: 500;
      padding: .5rem 0;
      transition: color .3s ease;
    }

    .nav-link:hover {
      color: var(--primary-orange)
    }

    .nav-link.active {
      color: var(--primary-orange)
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--primary-orange), var(--orange-light));
      transition: width .4s cubic-bezier(.4, 0, .2, 1);
    }

    .nav-link:hover::after,
    .nav-link.active::after {
      width: 100%
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 1.5rem
    }

    /* ‰∏ªÈ¢òÂºÄÂÖ≥ */
    .theme-switch {
      position: relative;
      display: inline-block;
      width: 60px;
      height: 32px
    }

    .theme-switch input {
      opacity: 0;
      width: 0;
      height: 0
    }

    .slider {
      position: absolute;
      inset: 0;
      cursor: pointer;
      background: var(--card-bg);
      border: 2px solid var(--border-color);
      border-radius: 34px;
      box-shadow: var(--shadow-sm);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 6px;
      transition: all .4s cubic-bezier(.4, 0, .2, 1);
    }

    .slider::before {
      content: '';
      position: absolute;
      height: 24px;
      width: 24px;
      left: 4px;
      bottom: 2px;
      background: #fff;
      border-radius: 50%;
      box-shadow: 0 2px 4px rgba(0, 0, 0, .2);
      transition: all .4s cubic-bezier(.4, 0, .2, 1);
    }

    .slider .sun {
      font-size: 14px;
      opacity: 1;
      transition: opacity .3s ease
    }

    .slider .moon {
      font-size: 14px;
      opacity: .3;
      transition: opacity .3s ease
    }

    .theme-switch input:checked~.slider {
      background: var(--primary-orange);
      border-color: var(--primary-orange)
    }

    .theme-switch input:checked~.slider .sun {
      opacity: .3
    }

    .theme-switch input:checked~.slider .moon {
      opacity: 1
    }

    .theme-switch input:checked~.slider::before {
      transform: translateX(28px)
    }

    /* ‰∏™‰∫∫Â§¥ÂÉèÊåâÈíÆ */
    .profile-btn {
      width: 45px;
      height: 45px;
      border-radius: 50%;
      background: var(--card-bg);
      border: 2px solid var(--border-color);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all .3s cubic-bezier(.4, 0, .2, 1);
      color: var(--mid-grey);
      text-decoration: none;
      box-shadow: var(--shadow-sm);
      overflow: hidden;
      padding: 0;
    }

    .profile-btn:hover {
      transform: scale(1.1);
      border-color: var(--primary-orange);
      color: var(--primary-orange);
      box-shadow: var(--shadow-md);
    }

    .profile-btn-img {
      width: 100%;
      height: 100%;
      object-fit: cover
    }

    /* Â§¥ÂÉè‰∏ãÊãâ */
    .profile-dropdown {
      position: fixed;
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, .15);
      width: 320px;
      z-index: 10001;
      opacity: 0;
      transform: translateY(-20px) scale(.95);
      visibility: hidden;
      overflow: hidden;
      transition: all .3s cubic-bezier(.4, 0, .2, 1);
    }

    .profile-dropdown.show {
      opacity: 1;
      transform: translateY(0) scale(1);
      visibility: visible
    }

    .profile-dropdown::before {
      content: '';
      position: absolute;
      top: -8px;
      right: 25px;
      width: 16px;
      height: 16px;
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-right: none;
      border-bottom: none;
      transform: rotate(45deg);
    }

    .profile-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1.5rem;
      background: linear-gradient(135deg, rgba(242, 107, 56, .1), rgba(242, 107, 56, .05));
      border-bottom: 1px solid var(--border-color);
    }

    .profile-avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      background: var(--page-bg);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(242, 107, 56, .3);
      border: 2px solid var(--primary-orange);
      animation: float 3s ease-in-out infinite;
    }

    .profile-avatar-img {
      width: 100%;
      height: 100%;
      object-fit: cover
    }

    .profile-info {
      flex: 1
    }

    .profile-name {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--deep-black);
      margin-bottom: .25rem
    }

    .profile-email {
      font-size: .85rem;
      color: var(--mid-grey)
    }

    .profile-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      padding: 1.5rem;
      background: var(--page-bg);
      border-bottom: 1px solid var(--border-color);
    }

    .stat-item {
      text-align: center;
      padding: 0 .5rem;
      border-right: 1px solid var(--border-color)
    }

    .stat-item:last-child {
      border-right: none
    }

    .stat-value {
      display: block;
      font-size: 1.3rem;
      font-weight: 700;
      color: var(--primary-orange);
      margin-bottom: .25rem;
      animation: countUp 1s ease-out
    }

    .stat-label {
      display: block;
      font-size: .75rem;
      color: var(--mid-grey);
      text-transform: uppercase;
      letter-spacing: .5px
    }

    .profile-menu {
      padding: .5rem
    }

    .profile-menu-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: .9rem 1.2rem;
      color: var(--mid-grey);
      text-decoration: none;
      border-radius: 12px;
      transition: all .2s ease;
      font-size: .95rem;
      position: relative;
      overflow: hidden;
    }

    .profile-menu-item:hover {
      background: var(--page-bg);
      color: var(--primary-orange);
      transform: translateX(5px)
    }

    .profile-divider {
      height: 1px;
      background: var(--border-color);
      margin: .5rem 0
    }

    .logout {
      color: #e74c3c
    }

    .logout:hover {
      background: rgba(231, 76, 60, .1);
      color: #c0392b
    }

    @keyframes float {

      0%,
      100% {
        transform: translateY(0)
      }

      50% {
        transform: translateY(-10px)
      }
    }

    @keyframes countUp {
      from {
        opacity: 0;
        transform: translateY(20px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    /* ===== ‰∏ªÂÜÖÂÆπ ===== */
    .card-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      transform: translateY(5vh);
      padding-top: 128px;
      /* È°∂ÈÉ®ÁïôÂá∫ÂØºËà™È´òÂ∫¶ */
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 12px;
      padding: 24px;
      animation: fadeInUp .6s cubic-bezier(.4, 0, .2, 1) .15s both;
      width: min(1400px, 96vw);
    }

    .vcard {
      background: var(--card-bg);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      overflow: hidden;
      box-shadow: var(--shadow-lg);
      transition: var(--transition-smooth);
      display: flex;
      flex-direction: column;
      min-height: 500px;
      animation: fadeInUp .6s cubic-bezier(.4, 0, .2, 1) both;
    }

    .card-grid .vcard:nth-child(1) {
      animation-delay: .20s
    }

    .card-grid .vcard:nth-child(2) {
      animation-delay: .28s
    }

    .card-grid .vcard:nth-child(3) {
      animation-delay: .36s
    }

    .card-grid .vcard:nth-child(4) {
      animation-delay: .44s
    }

    .vcard:hover {
      box-shadow: var(--shadow-sm);
      border-color: var(--primary-orange)
    }

    .vcard-img {
      width: 100%;
      height: 280px;
      overflow: hidden;
      background: var(--page-bg)
    }

    .vcard-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block
    }

    .vcard-body {
      padding: 16px 16px 18px;
      display: flex;
      flex-direction: column
    }

    .vcard-title {
      margin: 0 0 8px;
      font-size: 18px;
      line-height: 1.3
    }

    .vcard-desc {
      font-size: 14px;
      color: #666;
      line-height: 1.6;
      margin-bottom: 8px;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      overflow: hidden;
      text-overflow: ellipsis;
      -webkit-line-clamp: 5;
      line-clamp: 5;
      max-height: 8em;
      text-align: left;
      transition: max-height .3s ease;
    }

    .vcard-desc.expanded {
      -webkit-line-clamp: unset;
      line-clamp: unset;
      max-height: none
    }

    .expand-btn {
      align-self: flex-start;
      background: none;
      border: none;
      color: var(--mid-grey);
      font-size: 14px;
      cursor: pointer;
      margin-bottom: 10px;
      transition: color .2s;
    }

    .expand-btn:hover {
      color: #333
    }

    .vcard-links {
      display: flex;
      justify-content: center;
      gap: 12px;
      border-top: 1px solid var(--border-color);
      padding-top: 10px;
      margin-top: auto;
    }

    .meta-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      background: var(--ultra-light);
      border-radius: 50px;
      font-size: 13px;
      font-weight: 600;
      color: var(--mid-grey);
      border: 1px solid var(--border-color);
      transition: var(--transition-smooth);
      text-decoration: none;
      animation: badgeIn .6s cubic-bezier(.4, 0, .2, 1) both;
    }

    .meta-badge:hover {
      background: var(--primary-orange);
      color: var(--pure-white);
      border-color: var(--primary-orange);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    /* ÂìçÂ∫îÂºè */
    @media (max-width:1200px) {
      .card-grid {
        grid-template-columns: repeat(3, 1fr)
      }
    }

    @media (max-width:900px) {
      .card-grid {
        grid-template-columns: repeat(2, 1fr)
      }
    }

    @media (max-width:560px) {
      .card-grid {
        grid-template-columns: 1fr
      }
    }

    /* Âä®Áîª */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(40px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    @keyframes badgeIn {
      from {
        opacity: 0;
        transform: translateY(12px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    /* ===== ÊöóËâ≤ÂèØËØªÊÄß‰øÆÂ§çÔºàÂßìÂêç/ÂàóË°®/Ê†áÁ≠æ/ÊåâÈíÆÁ≠âÔºâ ===== */
    [data-theme="dark"] body {
      color: var(--pure-white)
    }

    [data-theme="dark"] .vcard,
    [data-theme="dark"] .vcard .vcard-body,
    [data-theme="dark"] .vcard .vcard-desc,
    [data-theme="dark"] .vcard .vcard-title {
      background: var(--card-bg);
      color: var(--pure-white);
      border-color: var(--light-grey);
    }

    [data-theme="dark"] .meta-badge {
      background: rgba(255, 255, 255, .08);
      color: var(--pure-white);
      border-color: var(--light-grey);
    }

    /* Â∞èÂ±è‰ºòÂåñ */
    @media (max-width:768px) {
      .nav-container {
        padding: 1rem 1.75rem
      }

      .logo-img {
        height: 70px
      }

      .nav-menu {
        gap: 2rem
      }

      .card-wrapper {
        padding-top: 120px
      }
    }

    @media (max-width:480px) {
      .nav-container {
        padding: 1rem
      }

      .card-wrapper {
        padding-top: 110px
      }
    }
  </style>
</head>

<body>
  <!-- Êñ∞ÂØºËà™ -->
  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <a href="#" class="logo-link">
        <img src="Assets/Logo.png" alt="University Logo" class="logo-img">
      </a>

      <ul class="nav-menu" id="navMenu">
        <li><a href="#" class="nav-link active">Home</a></li>
        <li><a href="Lecture.html" class="nav-link">Lecture</a></li>
        <li><a href="Tut.html" class="nav-link">Tutorial</a></li>
        <li><a href="https://canvas.sydney.edu.au/" class="nav-link"
            target="_blank">Canvas</a></li>
        <li><a href="TeamUp.html" class="nav-link">TeamUp</a></li>
      </ul>

      <div class="nav-right">
        <!-- ‰∏ªÈ¢òÂºÄÂÖ≥ -->
        <label class="theme-switch">
          <input type="checkbox" id="themeToggle">
          <span class="slider">
            <span class="sun">‚òÄÔ∏è</span>
            <span class="moon">üåô</span>
          </span>
        </label>

        <!-- Â§¥ÂÉèÊåâÈíÆÔºàÊú¨Âú∞ÁªßÊâøÔºâ -->
        <a href="#" class="profile-btn" aria-label="User Profile">
          <img id="profileImg" alt="Profile" class="profile-btn-img">
        </a>
      </div>
    </div>
  </nav>

  <!-- ‰∏ªÂÜÖÂÆπ -->
  <div class="card-wrapper">
    <section class="section-card">
      <div class="card-grid">

        <!-- Âç°Áâá 1 -->
        <article class="vcard">
          <div class="vcard-img">
            <img src="Assets/9105.png" alt="9105">
          </div>
          <div class="vcard-body">
            <h3 class="vcard-title">IDEA9105 Interface Design</h3>
            <p class="vcard-desc">
              This unit introduces students to the fundamentals of user interface design. Interface design is an
              important element of
              a human-centred design approach to the development of interactive computational systems. Students will
              learn about
              industry standard user interface design and usability principles and guidelines, based in visual design
              theory and
              visual perception. They will acquire practical knowledge through the application of tools and techniques
              for designing
              and evaluating user interfaces for a variety of different platforms. This includes (1) low-fidelity
              prototyping (hand
              sketches, wireframes, clickable prototypes); (2) usability testing and heuristics; (3) web and mobile user
              interfaces
              and/or emerging technologies. The aim is to develop appreciation of visual design principles and their
              impact on the
              user experience of interactive products. The knowledge and skills developed in this unit will equip
              students with the
              essential capabilities for working in the interaction design and user experience profession. This unit is
              a foundational
              core unit in the Master of Interaction Design and Electronic Arts program.
            </p>
            <button class="expand-btn">¬∑¬∑¬∑ More</button>
            <div class="vcard-links">
              <a class="meta-badge" href="Lecture.html">Lecture</a>
              <a class="meta-badge" href="Tut.html">Tutorial</a>
            </div>
          </div>
        </article>

        <!-- Âç°Áâá 2 -->
        <article class="vcard">
          <div class="vcard-img">
            <img src="Assets/9106.png" alt="9106">
          </div>
          <div class="vcard-body">
            <h3 class="vcard-title">IDEA9106 Design Thinking</h3>
            <p class="vcard-desc">
              This unit of study provides an overview of a human-centred approach to the design of products and systems.
              It introduces students to design thinking and how it can be productively applied to different design
              situations. The
              theoretical concepts, methods and tools for the key stages of interaction design are covered including
              user research,
              ideation, prototyping and user evaluation. It provides students with the principles, processes and tools
              for working
              collaboratively on design projects in studio. Students learn to build empathy with users, identify and
              reframe the
              problem space, develop value-driven design concepts and persuasively communicate design proposals with an
              emphasis on
              the user experience through visual storytelling. This unit is a foundational core unit in the Master of
              Interaction
              Design and Electronic Arts program.
            </p>
            <button class="expand-btn">¬∑¬∑¬∑ More</button>
            <div class="vcard-links">
              <a class="meta-badge" href="#">Lecture</a>
              <a class="meta-badge" href="#">Tutorial</a>
            </div>
          </div>
        </article>

        <!-- Âç°Áâá 3 -->
        <article class="vcard">
          <div class="vcard-img">
            <img src="Assets/9103.png" alt="9103">
          </div>
          <div class="vcard-body">
            <h3 class="vcard-title">IDEA9103 Creative Coding</h3>
            <p class="vcard-desc">
              This unit provides an introduction to the development of software in design and the creative industries.
              It teaches an understanding of the fundamentals of computational thinking, as well as skills in the design
              and
              implementation of software for creative expression. It introduces students to tools for building
              interactive design
              prototypes that express their interaction design skills through programming. It covers knowledge of
              programming concepts,
              creative coding practices, and their practical implementation through Javascript, HTML, and CSS. Key
              concepts
              covered in this unit include: variables, functions, control flows, and algorithmic thinking. Students
              learn how to
              approach creative expression through the medium of code, which will allow them to incorporate programming
              into their own
              design practice as well as to collaborate effectively with software developers. This unit is a
              foundational core unit in
              the Master of Interaction Design and Electronic Arts program.
            </p>
            <button class="expand-btn">¬∑¬∑¬∑ More</button>
            <div class="vcard-links">
              <a class="meta-badge" href="#">Lecture</a>
              <a class="meta-badge" href="#">Tutorial</a>
            </div>
          </div>
        </article>

        <!-- Âç°Áâá 4 -->
        <article class="vcard">
          <div class="vcard-img">
            <img src="Assets/9004.png" alt="9004">
          </div>
          <div class="vcard-body">
            <h3 class="vcard-title">DESN9004 Design Practices</h3>
            <p class="vcard-desc">
              In this subject, you will gain an understanding of design-led innovation concepts, practices and
              approaches. You will explore design-based innovation issues and use critical thinking to explore various
              notions of design
              value. This subject explores different modes of inquiry and encourages students to develop a diverse range
              of research
              practices. Knowledge and understanding of design thinking gained from other units will be applied via
              critical
              thinking to practical design topics. Students learn how to engage with design innovation (or is that
              innovative
              design?) practices, as well as engaging with practical design and innovation challenges. Students will
              leave this course with
              a comprehensive understanding of design innovation principles, as well as practices drawing on critical
              design thinking
              and design methods and approaches.
            </p>
            <button class="expand-btn">¬∑¬∑¬∑ More</button>
            <div class="vcard-links">
              <a class="meta-badge" href="#">Lecture</a>
              <a class="meta-badge" href="#">Tutorial</a>
            </div>
          </div>
        </article>

      </div>
    </section>
  </div>

  <script>
    /* Â±ïÂºÄ/Êî∂Ëµ∑ */
    document.querySelectorAll('.expand-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        const desc = btn.previousElementSibling;
        const expanded = desc.classList.toggle('expanded');
        btn.textContent = expanded ? 'Show less' : '¬∑¬∑¬∑ More';
        desc.style.webkitLineClamp = expanded ? 'unset' : '5';
      });
    });

    /* ÂØºËà™ÊªöÂä®Èò¥ÂΩ± */
    const navbar = document.getElementById('navbar');
    const onScroll = () => {
      if (window.scrollY > 12) navbar.classList.add('scrolled');
      else navbar.classList.remove('scrolled');
    };
    document.addEventListener('scroll', onScroll, { passive: true }); onScroll();

    /* ‰∏ªÈ¢òÊåÅ‰πÖÂåñ */
    const themeToggleSwitch = document.getElementById('themeToggle');
    const html = document.documentElement;
    const currentTheme = localStorage.getItem('theme') || 'light';
    html.setAttribute('data-theme', currentTheme);
    themeToggleSwitch.checked = currentTheme === 'dark';
    themeToggleSwitch.addEventListener('change', () => {
      const newTheme = themeToggleSwitch.checked ? 'dark' : 'light';
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
    });

    /* Â§¥ÂÉè‰∏ãÊãâ */
    const profileBtn = document.querySelector('.profile-btn');
    let profileDropdown = null;

    function createProfileDropdown() {
      const dropdown = document.createElement('div');
      dropdown.className = 'profile-dropdown';
      dropdown.innerHTML = `
        <div class="profile-header">
          <div class="profile-avatar" id="ddAvatar">
            <img id="ddAvatarImg" alt="User" class="profile-avatar-img">
          </div>
          <div class="profile-info">
            <h3 class="profile-name">Aiden Y</h3>
            <p class="profile-email">aiden.y@sydney.edu.au</p>
          </div>
        </div>
        <div class="profile-stats">
          <div class="stat-item"><span class="stat-value">42</span><span class="stat-label">Courses</span></div>
          <div class="stat-item"><span class="stat-value">98%</span><span class="stat-label">Progress</span></div>
          <div class="stat-item"><span class="stat-value">A+</span><span class="stat-label">Grade</span></div>
        </div>
        <div class="profile-menu">
          <a href="#" class="profile-menu-item"><span>üë§</span><span>View Profile</span></a>
          <a href="#" class="profile-menu-item"><span>‚öôÔ∏è</span><span>Settings</span></a>
          <a href="#" class="profile-menu-item"><span>üìö</span><span>My Courses</span></a>
          <a href="#" class="profile-menu-item"><span>üèÜ</span><span>Achievements</span></a>
          <div class="profile-divider"></div>
          <a href="#" class="profile-menu-item logout"><span>üö™</span><span>Sign Out</span></a>
        </div>
      `;
      document.body.appendChild(dropdown);
      return dropdown;
    }

    function positionDropdown() {
      if (!profileDropdown) return;
      const rect = profileBtn.getBoundingClientRect();
      profileDropdown.style.top = `${rect.bottom + 10}px`;
      profileDropdown.style.right = `${window.innerWidth - rect.right}px`;
    }

    profileBtn.addEventListener('click', (e) => {
      e.preventDefault(); e.stopPropagation();
      if (!profileDropdown) {
        profileDropdown = createProfileDropdown();
        // Â∞ÜÊú¨Âú∞Â§¥ÂÉè‰πüÂêåÊ≠•Âà∞‰∏ãÊãâÈù¢Êùø
        syncAvatarToDropdown();
        setTimeout(() => { profileDropdown.classList.add('show'); positionDropdown(); }, 10);
      } else {
        if (profileDropdown.classList.contains('show')) {
          profileDropdown.classList.remove('show');
          setTimeout(() => { profileDropdown.remove(); profileDropdown = null; }, 300);
        } else {
          profileDropdown.classList.add('show');
          positionDropdown();
        }
      }
    });

    document.addEventListener('click', (e) => {
      if (profileDropdown && !profileDropdown.contains(e.target) && e.target !== profileBtn) {
        profileDropdown.classList.remove('show');
        setTimeout(() => { profileDropdown.remove(); profileDropdown = null; }, 300);
      }
    });
    window.addEventListener('resize', positionDropdown);

    /* ‰ªé localStorage ÁªßÊâøÂ§¥ÂÉè‰∏éËÉåÊôØ */
    function restoreAvatar() {
      try {
        const raw = localStorage.getItem('avatarSelection');
        const img = document.getElementById('profileImg');
        if (!raw) { img && (img.src = ''); return; }
        const { avatarSrc, bgColor, bgStyle } = JSON.parse(raw);
        if (img && avatarSrc) { img.src = avatarSrc; }
        const bg = bgStyle || bgColor;
        if (bg) { profileBtn.style.background = bg; }
      } catch (e) { console.warn('restore avatarSelection failed', e); }
    }
    function syncAvatarToDropdown() {
      try {
        const raw = localStorage.getItem('avatarSelection');
        if (!raw || !profileDropdown) return;
        const { avatarSrc, bgColor, bgStyle } = JSON.parse(raw);
        const ddImg = document.getElementById('ddAvatarImg');
        const ddBox = document.getElementById('ddAvatar');
        if (ddImg && avatarSrc) { ddImg.src = avatarSrc; }
        const bg = bgStyle || bgColor;
        if (ddBox && bg) { ddBox.style.background = bg; }
      } catch (e) { console.warn('sync dropdown avatar failed', e); }
    }

    restoreAvatar();

    /* ÂØºËà™ active ÂàáÊç¢ÔºàÂ§ñÈìæ‰∏çÊîπ activeÔºâ */
    const navLinks = document.querySelectorAll('.nav-link');
    navLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (!link.hasAttribute('target')) {
          navLinks.forEach(l => l.classList.remove('active'));
          link.classList.add('active');
        }
      });
    });
  </script>
</body>

</html>